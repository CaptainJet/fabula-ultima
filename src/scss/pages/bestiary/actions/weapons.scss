@use '../../../common/vars' as mixins;

.fabula-ultima .bestiary {
  .weapons {
    $this: '.weapons';

    @include mixins.repeater-heading;

    &--delete {
      .weapon {
        display: flex;
        gap: 4px;

        &__name {
          .chimera-value {
            &__value {
              @include mixins.text-xl-400;
            }
          }
        }
      }

      .fabula-diamond,
      .fabula-check span {
        @include mixins.text-lg-700;
      }
    }

    &--view {
      input[name*='weapon_range'] {
        &[value='melee'] {
          ~ * .weapon__range--melee {
            display: block;
          }
        }
        &[value='distance'] {
          ~ * .weapon__range--distance {
            display: block;
          }
        }
      }

      .weapon {
        display: grid;
        grid-template-columns: 1fr repeat(4, auto) var(--button-component-size);
        gap: 4px;

        align-items: center;

        .fabula-check span {
          @include mixins.text-lg-700;
        }

        &__range {
          &--melee,
          &--distance {
            display: none;
            grid-row: span 2;
          }
        }

        &__attack {
          display: flex;
          gap: 4px;
          @include mixins.text-lg-700;

          &:has([name*='attack_name']:empty) {
            .weapon__attack_name {
              display: none;
            }
            .weapon__name {
              display: inline;
            }
          }
        }

        &__type {
          .chimera-value {
            &__value {
              @include mixins.text-lg-700;
            }
          }
        }

        &__name {
          display: none;
        }

        &__special {
          grid-column: 1/-1;
          // grid-column: 2 / span 4;
          @include mixins.text-lg-400;
        }
      }
    }

    &--edit {
      .weapon {
        display: grid;
        grid-template-columns: 1fr repeat(3, auto);
        gap: 4px;

        &__special {
          grid-column: 1/-1;
        }

        &__name {
          grid-column: span 3;
        }
        &__category {
        }
      }
    }
  }
}
