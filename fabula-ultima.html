
<html>
  <head>
    <link href="fabula-ultima.css" rel="stylesheet" type="text/css"/>
  </head>
  <body>
    <select name="attr_sheet_type">
      <option data-i18n="character" value="character">CHARACTER</option>
      <option data-i18n="bestiary" value="bestiary">BESTIARY</option>
      <option data-i18n="gm" value="gm">GM</option>
    </select>
    <input name="attr_sheet_type" type="hidden" value="bestiary"/>
    <div class="fabula-ultima">
      <main class="character"><span>[CHARACTER]</span></main>
      <main class="bestiary">
        <header class="bestiary--view">
        </header>
        <header class="bestiary--edit">
              <div class="bio">
                    <input class="chimera-hidden" name="attr_rank" type="hidden"/>
                    <div class="chimera-input bio__name">
                      <label class="chimera-input__label" data-i18n="character_name" for="character_name">Name</label>
                          <input class="chimera-input__field" data-i18n-title="character_name_title" title="Name" id="character_name" name="attr_character_name" type="text"/>
                    </div>
                    <div class="chimera-input bio__traits">
                      <label class="chimera-input__label" data-i18n="traits" for="traits">Traits</label>
                          <input class="chimera-input__field" data-i18n-title="traits_title" title="Traits" id="traits" name="attr_traits" type="text"/>
                    </div>
                    <div class="chimera-input bio__level chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="level" for="level">Level</label>
                          <input class="chimera-input__field" data-i18n-title="level_title" title="Level" id="level" max="50" min="5" step="5" name="attr_level" type="number"/>
                    </div>
                    <div class="chimera-input bio__species">
                      <label class="chimera-input__label" data-i18n="species" for="species">Species</label>
                          <select class="chimera-input__field" data-i18n-title="species_title" title="Species" id="species" name="attr_species">
                            <option data-i18n="beast" value="Beast" selected="selected">Beast</option>
                            <option data-i18n="construct" value="Construct">Construct</option>
                            <option data-i18n="demon" value="Demon">Demon</option>
                            <option data-i18n="elemental" value="Elemental">Elemental</option>
                            <option data-i18n="monster" value="Monster">Monster</option>
                            <option data-i18n="plant" value="Plant">Plant</option>
                            <option data-i18n="undead" value="Undead">Undead</option>
                            <option data-i18n="humanoid" value="Humanoid">Humanoid</option>
                          </select>
                    </div>
                    <div class="chimera-input bio__rank">
                      <label class="chimera-input__label" data-i18n="rank" for="rank">Rank</label>
                          <select class="chimera-input__field" data-i18n-title="rank_title" title="Rank" id="rank" name="attr_rank">
                            <option data-i18n="soldier" value="soldier" selected="selected">Soldier</option>
                            <option data-i18n="elite" value="elite">Elite</option>
                            <option data-i18n="champion" value="champion">Champion</option>
                            <option data-i18n="champion2" value="champion2">Champion (2)</option>
                            <option data-i18n="champion3" value="champion3">Champion (3)</option>
                            <option data-i18n="champion4" value="champion4">Champion (4)</option>
                            <option data-i18n="champion5" value="champion5">Champion (5)</option>
                            <option data-i18n="companion" value="companion">Companion</option>
                          </select>
                    </div>
                    <div class="chimera-input bio__villain">
                      <label class="chimera-input__label" data-i18n="villain" for="villain">Villain</label>
                          <select class="chimera-input__field" data-i18n-title="villain_title" title="Villain" id="villain" name="attr_villain">
                            <option data-i18n="none" value="" selected="selected">â€”</option>
                            <option data-i18n="minor" value="minor">Minor</option>
                            <option data-i18n="major" value="major">Major</option>
                            <option data-i18n="supreme" value="supreme">Supreme</option>
                          </select>
                    </div>
                    <div class="chimera-input bio__companion_skill_level chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="companion_skill_level" for="companion_skill_level">Skill Level</label>
                          <input class="chimera-input__field" data-i18n-title="companion_skill_level_title" title="Skill Level" id="companion_skill_level" max="5" min="1" name="attr_companion_skill_level" type="number"/>
                    </div>
                    <div class="chimera-input bio__pc_level chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="pc_level" for="pc_level">PC Level</label>
                          <input class="chimera-input__field" data-i18n-title="pc_level_title" title="PC Level" id="pc_level" max="50" min="5" name="attr_pc_level" type="number"/>
                    </div>
                    <div class="chimera-input bio__multipart">
                      <label class="chimera-input__label" data-i18n="multipart" for="multipart">Multi-Part</label>
                          <input class="chimera-input__field" data-i18n-title="multipart_title" title="Multi-Part" id="multipart" name="attr_multipart" type="text"/>
                    </div>
                    <div class="chimera-input bio__phases chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="phases" for="phases">Phases</label>
                          <input class="chimera-input__field" data-i18n-title="phases_title" title="Phases" id="phases" min="0" name="attr_phases" type="number"/>
                    </div>
                    <div class="chimera-input bio__createdby">
                      <label class="chimera-input__label" data-i18n="createdby" for="createdby">Created By</label>
                          <input class="chimera-input__field" data-i18n-title="createdby_title" title="Created By" id="createdby" name="attr_createdby" type="text"/>
                    </div>
                    <div class="chimera-input bio__description">
                      <label class="chimera-input__label" data-i18n="description" for="description">Description</label>
                          <textarea class="chimera-input__field" data-i18n-title="description_title" title="Description" id="description" name="attr_description" type="textarea"></textarea>
                    </div>
              </div>
              <div class="attributes">
                    <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
                      <label class="chimera-input__label" data-i18n="dexterity_max" for="dexterity_max">DEX</label>
                          <select class="chimera-input__field" data-i18n-title="dexterity_max_title" title="Dexterity" id="dexterity_max" name="attr_dexterity_max">
                            <option data-i18n="d6" value="6" selected="selected">d6</option>
                            <option data-i18n="d8" value="8">d8</option>
                            <option data-i18n="d10" value="10">d10</option>
                            <option data-i18n="d12" value="12">d12</option>
                          </select>
                    </div>
                    <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
                      <label class="chimera-input__label" data-i18n="insight_max" for="insight_max">INS</label>
                          <select class="chimera-input__field" data-i18n-title="insight_max_title" title="Insight" id="insight_max" name="attr_insight_max">
                            <option data-i18n="d6" value="6" selected="selected">d6</option>
                            <option data-i18n="d8" value="8">d8</option>
                            <option data-i18n="d10" value="10">d10</option>
                            <option data-i18n="d12" value="12">d12</option>
                          </select>
                    </div>
                    <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
                      <label class="chimera-input__label" data-i18n="might_max" for="might_max">MIG</label>
                          <select class="chimera-input__field" data-i18n-title="might_max_title" title="Might" id="might_max" name="attr_might_max">
                            <option data-i18n="d6" value="6" selected="selected">d6</option>
                            <option data-i18n="d8" value="8">d8</option>
                            <option data-i18n="d10" value="10">d10</option>
                            <option data-i18n="d12" value="12">d12</option>
                          </select>
                    </div>
                    <div class="chimera-input attribute chimera-input--flex-row chimera-input--small chimera-input--center">
                      <label class="chimera-input__label" data-i18n="willpower_max" for="willpower_max">WLP</label>
                          <select class="chimera-input__field" data-i18n-title="willpower_max_title" title="Willpower" id="willpower_max" name="attr_willpower_max">
                            <option data-i18n="d6" value="6" selected="selected">d6</option>
                            <option data-i18n="d8" value="8">d8</option>
                            <option data-i18n="d10" value="10">d10</option>
                            <option data-i18n="d12" value="12">d12</option>
                          </select>
                    </div>
              </div>
              <div class="attributes__distribution chimera-container--shadow">
                    <div class="chimera-value distribution"><span class="chimera-value__value" data-i18n="attribute_distribution">Distribute one of the following arrays among the NPC's Attributes.</span>
                    </div>
                    <div class="chimera-value distribution chimera-value--bullet">
                      <label class="chimera-value__label" data-i18n="jack_of all trades">Jack of All Trades</label><span class="chimera-value__value">d8, d8, d8, d8</span>
                    </div>
                    <div class="chimera-value distribution chimera-value--bullet">
                      <label class="chimera-value__label" data-i18n="standard">Standard</label><span class="chimera-value__value">d10, d8, d8, d6</span>
                    </div>
                    <div class="chimera-value distribution chimera-value--bullet">
                      <label class="chimera-value__label" data-i18n="specialized">Specialized</label><span class="chimera-value__value">d10, d10, d6, d6</span>
                    </div>
                    <div class="chimera-value distribution chimera-value--bullet">
                      <label class="chimera-value__label" data-i18n="super_specialized">Super Specialized</label><span class="chimera-value__value">d12, d8, d6, d6</span>
                    </div>
                    <div class="chimera-value distribution"><span class="chimera-value__value" data-i18n="attribute_higher_levels">Upon reaching levels 20, 40, and 60, the NPC chooses one of its Attributes and increases it by one die size (to a maximum of d12).</span>
                    </div>
              </div>
              <div class="affinities">
                    <div class="chimera-input affinity affinity--physical chimera-input--center"><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/physical.svg" data-i18n-title="physical_title" title="Physical"/>
                      <label class="chimera-input__label" data-i18n="physical" for="physical">Physical</label>
                          <select class="chimera-input__field" data-i18n-title="physical_title" title="Physical Affinity" id="physical" name="attr_physical">
                            <option data-i18n="none" value="" selected="selected">â€”</option>
                            <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                            <option data-i18n="resistant" value="rs">Resistant</option>
                            <option data-i18n="immune" value="im">Immune</option>
                            <option data-i18n="absorbs" value="ab">Absorbs</option>
                          </select>
                    </div>
                    <div class="chimera-input affinity affinity--air chimera-input--center"><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/air.svg" data-i18n-title="air_title" title="Air"/>
                      <label class="chimera-input__label" data-i18n="air" for="air">Air</label>
                          <select class="chimera-input__field" data-i18n-title="air_title" title="Air Affinity" id="air" name="attr_air">
                            <option data-i18n="none" value="" selected="selected">â€”</option>
                            <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                            <option data-i18n="resistant" value="rs">Resistant</option>
                            <option data-i18n="immune" value="im">Immune</option>
                            <option data-i18n="absorbs" value="ab">Absorbs</option>
                          </select>
                    </div>
                    <div class="chimera-input affinity affinity--bolt chimera-input--center"><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/bolt.svg" data-i18n-title="bolt_title" title="Bolt"/>
                      <label class="chimera-input__label" data-i18n="bolt" for="bolt">Bolt</label>
                          <select class="chimera-input__field" data-i18n-title="bolt_title" title="Bolt Affinity" id="bolt" name="attr_bolt">
                            <option data-i18n="none" value="" selected="selected">â€”</option>
                            <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                            <option data-i18n="resistant" value="rs">Resistant</option>
                            <option data-i18n="immune" value="im">Immune</option>
                            <option data-i18n="absorbs" value="ab">Absorbs</option>
                          </select>
                    </div>
                    <div class="chimera-input affinity affinity--dark chimera-input--center"><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/dark.svg" data-i18n-title="dark_title" title="Dark"/>
                      <label class="chimera-input__label" data-i18n="dark" for="dark">Dark</label>
                          <select class="chimera-input__field" data-i18n-title="dark_title" title="Dark Affinity" id="dark" name="attr_dark">
                            <option data-i18n="none" value="" selected="selected">â€”</option>
                            <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                            <option data-i18n="resistant" value="rs">Resistant</option>
                            <option data-i18n="immune" value="im">Immune</option>
                            <option data-i18n="absorbs" value="ab">Absorbs</option>
                          </select>
                    </div>
                    <div class="chimera-input affinity affinity--earth chimera-input--center"><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/earth.svg" data-i18n-title="earth_title" title="Earth"/>
                      <label class="chimera-input__label" data-i18n="earth" for="earth">Earth</label>
                          <select class="chimera-input__field" data-i18n-title="earth_title" title="Earth Affinity" id="earth" name="attr_earth">
                            <option data-i18n="none" value="" selected="selected">â€”</option>
                            <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                            <option data-i18n="resistant" value="rs">Resistant</option>
                            <option data-i18n="immune" value="im">Immune</option>
                            <option data-i18n="absorbs" value="ab">Absorbs</option>
                          </select>
                    </div>
                    <div class="chimera-input affinity affinity--fire chimera-input--center"><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/fire.svg" data-i18n-title="fire_title" title="Fire"/>
                      <label class="chimera-input__label" data-i18n="fire" for="fire">Fire</label>
                          <select class="chimera-input__field" data-i18n-title="fire_title" title="Fire Affinity" id="fire" name="attr_fire">
                            <option data-i18n="none" value="" selected="selected">â€”</option>
                            <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                            <option data-i18n="resistant" value="rs">Resistant</option>
                            <option data-i18n="immune" value="im">Immune</option>
                            <option data-i18n="absorbs" value="ab">Absorbs</option>
                          </select>
                    </div>
                    <div class="chimera-input affinity affinity--ice chimera-input--center"><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/ice.svg" data-i18n-title="ice_title" title="Ice"/>
                      <label class="chimera-input__label" data-i18n="ice" for="ice">Ice</label>
                          <select class="chimera-input__field" data-i18n-title="ice_title" title="Ice Affinity" id="ice" name="attr_ice">
                            <option data-i18n="none" value="" selected="selected">â€”</option>
                            <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                            <option data-i18n="resistant" value="rs">Resistant</option>
                            <option data-i18n="immune" value="im">Immune</option>
                            <option data-i18n="absorbs" value="ab">Absorbs</option>
                          </select>
                    </div>
                    <div class="chimera-input affinity affinity--light chimera-input--center"><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/light.svg" data-i18n-title="light_title" title="Light"/>
                      <label class="chimera-input__label" data-i18n="light" for="light">Light</label>
                          <select class="chimera-input__field" data-i18n-title="light_title" title="Light Affinity" id="light" name="attr_light">
                            <option data-i18n="none" value="" selected="selected">â€”</option>
                            <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                            <option data-i18n="resistant" value="rs">Resistant</option>
                            <option data-i18n="immune" value="im">Immune</option>
                            <option data-i18n="absorbs" value="ab">Absorbs</option>
                          </select>
                    </div>
                    <div class="chimera-input affinity affinity--poison chimera-input--center"><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/affinities/poison.svg" data-i18n-title="poison_title" title="Poison"/>
                      <label class="chimera-input__label" data-i18n="poison" for="poison">Poison</label>
                          <select class="chimera-input__field" data-i18n-title="poison_title" title="Poison Affinity" id="poison" name="attr_poison">
                            <option data-i18n="none" value="" selected="selected">â€”</option>
                            <option data-i18n="vulnerable" value="vu">Vulnerable</option>
                            <option data-i18n="resistant" value="rs">Resistant</option>
                            <option data-i18n="immune" value="im">Immune</option>
                            <option data-i18n="absorbs" value="ab">Absorbs</option>
                          </select>
                    </div>
              </div>
              <div class="affinities__skillcost chimera-container--shadow">
                    <div class="chimera-value"><span class="chimera-value__value" data-i18n="affinity_vulnerability">Gain 1 skill per vulnerability</span>
                    </div>
                    <div class="chimera-value"><span class="chimera-value__value" data-i18n="affinity_physical_vulnerability">Gain 2 skills per physical vulnerability</span>
                    </div>
                    <div class="chimera-value"><span class="chimera-value__value" data-i18n="affinity_resistance">Use 0.5 skill per Resistance</span>
                    </div>
                    <div class="chimera-value"><span class="chimera-value__value" data-i18n="affinity_immunity">Use 1 skill per Immunity</span>
                    </div>
                    <div class="chimera-value"><span class="chimera-value__value" data-i18n="affinity_absorption">Use 2 skill per Absorption</span>
                    </div>
              </div>
              <div class="defenses">
                    <div class="chimera-input defense defense__quick chimera-input--center">
                      <label class="chimera-input__label" data-i18n="defense_quick" for="defense_quick">Defenses</label>
                          <select class="chimera-input__field" data-i18n-title="defense_quick_title" title="Defense Quick Select" id="defense_quick" name="attr_defense_quick">
                            <option data-i18n="extra_defense_null" value="" selected="selected">â€”</option>
                            <option data-i18n="extra_defense_00" value="0/0">+0 Def / +0 M. Def</option>
                            <option data-i18n="extra_defense_12" value="1/2">+1 Def / +2 M. Def</option>
                            <option data-i18n="extra_defense_21" value="2/1">+2 Def / +1 M. Def</option>
                            <option data-i18n="extra_defense_33" value="3/3">+3 Def / +3 M. Def</option>
                            <option data-i18n="extra_defense_24" value="2/4">+2 Def / +4 M. Def</option>
                            <option data-i18n="extra_defense_42" value="4/2">+4 Def / +2 M. Def</option>
                          </select>
                    </div>
                    <div class="chimera-input defense defense__def chimera-input--flex-row chimera-input--small chimera-input--center">
                      <label class="chimera-input__label" data-i18n="defense_extra" for="defense_extra">+DEF</label>
                          <input class="chimera-input__field" data-i18n-title="defense_extra_title" title="+DEF" id="defense_extra" name="attr_defense_extra" type="number"/>
                    </div>
                    <div class="chimera-input defense defense__mdef chimera-input--flex-row chimera-input--small chimera-input--center">
                      <label class="chimera-input__label" data-i18n="magic_defense_extra" for="magic_defense_extra">+M.DEF</label>
                          <input class="chimera-input__field" data-i18n-title="magic_defense_extra_title" title="+M.DEF" id="magic_defense_extra" name="attr_magic_defense_extra" type="number"/>
                    </div>
              </div>
              <div class="extras">
                    <div class="chimera-input extra extra__hp_extra chimera-input--flex-row chimera-input--small">
                      <label class="chimera-input__label" data-i18n="hp_extra" for="hp_extra">Extra HP</label>
                          <input class="chimera-input__field" data-i18n-title="hp_extra_title" title="Extra HP" id="hp_extra" step="10" name="attr_hp_extra" type="number"/>
                    </div>
                    <div class="chimera-input extra extra__mp_extra chimera-input--flex-row chimera-input--small">
                      <label class="chimera-input__label" data-i18n="mp_extra" for="mp_extra">Extra MP</label>
                          <input class="chimera-input__field" data-i18n-title="mp_extra_title" title="Extra MP" id="mp_extra" step="10" name="attr_mp_extra" type="number"/>
                    </div>
                    <div class="chimera-input extra extra__initiative_extra chimera-input--flex-row chimera-input--small">
                      <label class="chimera-input__label" data-i18n="initiative_extra" for="initiative_extra">Extra Initiative</label>
                          <input class="chimera-input__field" data-i18n-title="initiative_extra_title" title="Extra Initiative" id="initiative_extra" name="attr_initiative_extra" type="number"/>
                    </div>
              </div>
              <div class="extras extra--checkboxes">
                        <label class="chimera-checkbox extra extra__initiative_bonus">
                          <div class="chimera-checkbox__field">
                            <input id="initiative_bonus" name="attr_initiative_bonus" type="checkbox"/><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" data-i18n-title="checkbox_title" title="Checkbox"/>
                          </div><span class="chimera-checkbox__label" data-i18n="initiative_bonus" for="initiative_bonus">+4 Initiative</span>
                        </label>
                        <label class="chimera-checkbox extra extra__accuracy_bonus">
                          <div class="chimera-checkbox__field">
                            <input id="accuracy_bonus" name="attr_accuracy_bonus" type="checkbox"/><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" data-i18n-title="checkbox_title" title="Checkbox"/>
                          </div><span class="chimera-checkbox__label" data-i18n="accuracy_bonus" for="accuracy_bonus">+3 bonus to all Accuracy checks</span>
                        </label>
                        <label class="chimera-checkbox extra extra__magic_bonus">
                          <div class="chimera-checkbox__field">
                            <input id="magic_bonus" name="attr_magic_bonus" type="checkbox"/><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" data-i18n-title="checkbox_title" title="Checkbox"/>
                          </div><span class="chimera-checkbox__label" data-i18n="magic_bonus" for="magic_bonus">+3 bonus to all Magic checks</span>
                        </label>
              </div>
              <div class="armor">
                <h2 class="armor--heading" data-i18n="armor">Armor</h2>
                    <div class="chimera-input armor__name">
                      <label class="chimera-input__label" data-i18n="armor_name" for="armor_name">Name</label>
                          <input class="chimera-input__field" data-i18n-title="armor_name_title" title="Name" id="armor_name" name="attr_armor_name" type="text"/>
                    </div>
                    <div class="chimera-input armor__initiative chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="armor_initiative" for="armor_initiative">Initiative</label>
                          <input class="chimera-input__field" data-i18n-title="armor_initiative_title" title="Initiative" id="armor_initiative" name="attr_armor_initiative" type="number"/>
                    </div>
                    <div class="chimera-input armor__cost chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="armor_cost" for="armor_cost">Cost</label>
                          <input class="chimera-input__field" data-i18n-title="armor_cost_title" title="Cost" id="armor_cost" min="0" step="50" name="attr_armor_cost" type="number"/>
                    </div>
                    <div class="chimera-input armor__defense chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="armor_defense" for="armor_defense">DEF</label>
                          <input class="chimera-input__field" data-i18n-title="armor_defense_title" title="Defense" id="armor_defense" name="attr_armor_defense" type="number"/>
                    </div>
                    <div class="chimera-input armor__defense_bonus chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="armor_defense_bonus" for="armor_defense_bonus">DEF Bonus</label>
                          <input class="chimera-input__field" data-i18n-title="armor_defense_bonus_title" title="Defense Bonus" id="armor_defense_bonus" name="attr_armor_defense_bonus" type="number"/>
                    </div>
                    <div class="chimera-input armor__magic_defense chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="armor_magic_defense" for="armor_magic_defense">M.DEF</label>
                          <input class="chimera-input__field" data-i18n-title="armor_magic_defense_title" title="Magic Defense" id="armor_magic_defense" name="attr_armor_magic_defense" type="number"/>
                    </div>
                    <div class="chimera-input armor__magic_defense_bonus chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="armor_magic_defense_bonus" for="armor_magic_defense_bonus">M.DEF Bonus</label>
                          <input class="chimera-input__field" data-i18n-title="armor_magic_defense_bonus_title" title="Magic Defense Bonus" id="armor_magic_defense_bonus" name="attr_armor_magic_defense_bonus" type="number"/>
                    </div>
              </div>
              <div class="shield">
                <h2 class="shield--heading" data-i18n="shield">Shield</h2>
                    <div class="chimera-input shield__name">
                      <label class="chimera-input__label" data-i18n="shield_name" for="shield_name">Name</label>
                          <input class="chimera-input__field" data-i18n-title="shield_name_title" title="Name" id="shield_name" name="attr_shield_name" type="text"/>
                    </div>
                    <div class="chimera-input shield__initiative chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="shield_initiative" for="shield_initiative">Initiative</label>
                          <input class="chimera-input__field" data-i18n-title="shield_initiative_title" title="Initiative" id="shield_initiative" name="attr_shield_initiative" type="number"/>
                    </div>
                    <div class="chimera-input shield__cost chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="shield_cost" for="shield_cost">Cost</label>
                          <input class="chimera-input__field" data-i18n-title="shield_cost_title" title="Cost" id="shield_cost" min="0" step="50" name="attr_shield_cost" type="number"/>
                    </div>
                    <div class="chimera-input shield__defense chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="shield_defense" for="shield_defense">DEF</label>
                          <input class="chimera-input__field" data-i18n-title="shield_defense_title" title="Defense" id="shield_defense" name="attr_shield_defense" type="number"/>
                    </div>
                    <div class="chimera-input shield__defense_bonus chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="shield_defense_bonus" for="shield_defense_bonus">DEF Bonus</label>
                          <input class="chimera-input__field" data-i18n-title="shield_defense_bonus_title" title="Defense Bonus" id="shield_defense_bonus" name="attr_shield_defense_bonus" type="number"/>
                    </div>
                    <div class="chimera-input shield__magic_defense chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="shield_magic_defense" for="shield_magic_defense">M.DEF</label>
                          <input class="chimera-input__field" data-i18n-title="shield_magic_defense_title" title="Magic Defense" id="shield_magic_defense" name="attr_shield_magic_defense" type="number"/>
                    </div>
                    <div class="chimera-input shield__magic_defense_bonus chimera-input--center chimera-input--small">
                      <label class="chimera-input__label" data-i18n="shield_magic_defense_bonus" for="shield_magic_defense_bonus">M.DEF Bonus</label>
                          <input class="chimera-input__field" data-i18n-title="shield_magic_defense_bonus_title" title="Magic Defense Bonus" id="shield_magic_defense_bonus" name="attr_shield_magic_defense_bonus" type="number"/>
                    </div>
              </div>
              <div class="attacks">
                <h2 class="attacks--heading" data-i18n="attacks">Basic Attacks</h2>
                    <div class="chimera-repeater">
                      <input class="chimera-repeater--is-empty" name="attr_attacks_empty" type="hidden" value="0"/>
                      <div class="chimera-repeater__empty">
                        <h2 class="chimera-repeater__empty-header" data-i18n="none_attacks_repeating">No attacks saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                      </div>
                      <fieldset class="repeating_attacks">
                        <div class="chimera-repeater__content">
                          <div class="chimera-repeater--edit attacks--edit">
                            <div class="attack">
                                  <div class="chimera-input attack__name">
                                    <label class="chimera-input__label" data-i18n="attack_name" for="attack_name">Attack Name</label>
                                        <input class="chimera-input__field" data-i18n-title="attack_name_title" title="Attack Name" id="attack_name" name="attr_attack_name" type="text"/>
                                  </div>
                                  <div class="chimera-input attack__range chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="attack_range" for="attack_range">Range</label>
                                            <div class="chimera-switch">
                                              <input name="attr_attack_range" type="hidden"/>
                                              <div class="chimera-switch__group">
                                                <label class="chimera-switch__label">
                                                  <input id="attack_range" name="attr_attack_range" value="melee" type="radio"/><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg" data-i18n-title="melee_title" title="Melee"/><span data-i18n="melee">Melee</span>
                                                </label>
                                                <label class="chimera-switch__label">
                                                  <input id="attack_range" name="attr_attack_range" value="distance" type="radio"/><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg" data-i18n-title="distance_title" title="Distance"/><span data-i18n="distance">Distance</span>
                                                </label>
                                              </div>
                                            </div>
                                  </div>
                                  <div class="chimera-input attack__check_1 chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="attack_check_1" for="attack_check_1">Attr 1</label>
                                        <select class="chimera-input__field" data-i18n-title="attack_check_1_title" title="Attr 1" id="attack_check_1" name="attr_attack_check_1">
                                          <option data-i18n="dexterity" value="dexterity" selected="selected">DEX</option>
                                          <option data-i18n="insight" value="insight">INS</option>
                                          <option data-i18n="might" value="might">MIG</option>
                                          <option data-i18n="willpower" value="willpower">WLP</option>
                                        </select>
                                  </div>
                                  <div class="chimera-input attack__check_2 chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="attack_check_2" for="attack_check_2">Attr 2</label>
                                        <select class="chimera-input__field" data-i18n-title="attack_check_2_title" title="Attr 2" id="attack_check_2" name="attr_attack_check_2">
                                          <option data-i18n="dexterity" value="dexterity" selected="selected">DEX</option>
                                          <option data-i18n="insight" value="insight">INS</option>
                                          <option data-i18n="might" value="might">MIG</option>
                                          <option data-i18n="willpower" value="willpower">WLP</option>
                                        </select>
                                  </div>
                                  <div class="chimera-input attack__type chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="attack_type" for="attack_type">Damage Type</label>
                                        <select class="chimera-input__field" data-i18n-title="attack_type_title" title="Damage Type" id="attack_type" name="attr_attack_type">
                                          <option data-i18n="physical" value="physical" selected="selected">Physical</option>
                                          <option data-i18n="air" value="air">Air</option>
                                          <option data-i18n="bolt" value="bolt">Bolt</option>
                                          <option data-i18n="dark" value="dark">Dark</option>
                                          <option data-i18n="earth" value="earth">Earth</option>
                                          <option data-i18n="fire" value="fire">Fire</option>
                                          <option data-i18n="ice" value="ice">Ice</option>
                                          <option data-i18n="light" value="light">Light</option>
                                          <option data-i18n="poison" value="poison">Poison</option>
                                        </select>
                                  </div>
                                      <label class="chimera-checkbox attack__extra_damage chimera-checkbox--column">
                                        <div class="chimera-checkbox__field">
                                          <input id="attack_extra_damage" name="attr_attack_extra_damage" type="checkbox"/><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" data-i18n-title="checkbox_title" title="Checkbox"/>
                                        </div><span class="chimera-checkbox__label" data-i18n="attack_extra_damage" for="attack_extra_damage">Extra Damage</span>
                                      </label>
                                  <div class="chimera-input attack__special">
                                    <label class="chimera-input__label" data-i18n="attack_special" for="attack_special">Special</label>
                                        <textarea class="chimera-input__field" data-i18n-title="attack_special_title" title="Special" id="attack_special" name="attr_attack_special" type="textarea"></textarea>
                                  </div>
                            </div>
                          </div>
                          <div class="chimera-repeater--delete attacks--delete">
                            <div class="attack"><span name="attr_attack_name"></span><span>âœ¦</span>
                              <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_attack_check_1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_attack_check_2"></span>
                              </div>
                            </div>
                          </div>
                          <div class="chimera-repeater--view attacks--view">
                          </div>
                        </div>
                      </fieldset>
                    </div>
              </div>
              <div class="weapons">
                <h2 class="weapons--heading" data-i18n="weapons">Weapons</h2>
                    <div class="chimera-repeater">
                      <input class="chimera-repeater--is-empty" name="attr_weapons_empty" type="hidden" value="0"/>
                      <div class="chimera-repeater__empty">
                        <h2 class="chimera-repeater__empty-header" data-i18n="none_weapons_repeating">No weapons saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                      </div>
                      <fieldset class="repeating_weapons">
                        <div class="chimera-repeater__content">
                          <div class="chimera-repeater--edit weapons--edit">
                            <div class="weapon">
                                  <div class="chimera-input weapon__name">
                                    <label class="chimera-input__label" data-i18n="weapon_name" for="weapon_name">Weapon Name</label>
                                        <input class="chimera-input__field" data-i18n-title="weapon_name_title" title="Weapon Name" id="weapon_name" name="attr_weapon_name" type="text"/>
                                  </div>
                                  <div class="chimera-input weapon__range chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="weapon_range" for="weapon_range">Range</label>
                                            <div class="chimera-switch">
                                              <input name="attr_weapon_range" type="hidden"/>
                                              <div class="chimera-switch__group">
                                                <label class="chimera-switch__label">
                                                  <input id="weapon_range" name="attr_weapon_range" value="melee" type="radio"/><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/melee.svg" data-i18n-title="melee_title" title="Melee"/><span data-i18n="melee">Melee</span>
                                                </label>
                                                <label class="chimera-switch__label">
                                                  <input id="weapon_range" name="attr_weapon_range" value="distance" type="radio"/><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/distance.svg" data-i18n-title="distance_title" title="Distance"/><span data-i18n="distance">Distance</span>
                                                </label>
                                              </div>
                                            </div>
                                  </div>
                                  <div class="chimera-input weapon__category chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="weapon_category" for="weapon_category">Category</label>
                                        <select class="chimera-input__field" data-i18n-title="weapon_category_title" title="Category" id="weapon_category" name="attr_weapon_category">
                                          <option data-i18n="arcane" value="arcane" selected="selected">Arcane</option>
                                          <option data-i18n="bow" value="bow">Bow</option>
                                          <option data-i18n="flail" value="flail">Flail</option>
                                          <option data-i18n="firearm" value="firearm">Firearm</option>
                                          <option data-i18n="spear" value="spear">Spear</option>
                                          <option data-i18n="thrown" value="thrown">Thrown</option>
                                          <option data-i18n="heavy" value="heavy">Heavy</option>
                                          <option data-i18n="dagger" value="dagger">Dagger</option>
                                          <option data-i18n="brawling" value="brawling">Brawling</option>
                                          <option data-i18n="sword" value="sword">Sword</option>
                                        </select>
                                  </div>
                                  <div class="chimera-input weapon__check_1 chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="weapon_check_1" for="weapon_check_1">Attr 1</label>
                                        <select class="chimera-input__field" data-i18n-title="weapon_check_1_title" title="Attr 1" id="weapon_check_1" name="attr_weapon_check_1">
                                          <option data-i18n="dexterity" value="dexterity" selected="selected">DEX</option>
                                          <option data-i18n="insight" value="insight">INS</option>
                                          <option data-i18n="might" value="might">MIG</option>
                                          <option data-i18n="willpower" value="willpower">WLP</option>
                                        </select>
                                  </div>
                                  <div class="chimera-input weapon__check_2 chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="weapon_check_2" for="weapon_check_2">Attr 2</label>
                                        <select class="chimera-input__field" data-i18n-title="weapon_check_2_title" title="Attr 2" id="weapon_check_2" name="attr_weapon_check_2">
                                          <option data-i18n="dexterity" value="dexterity" selected="selected">DEX</option>
                                          <option data-i18n="insight" value="insight">INS</option>
                                          <option data-i18n="might" value="might">MIG</option>
                                          <option data-i18n="willpower" value="willpower">WLP</option>
                                        </select>
                                  </div>
                                  <div class="chimera-input weapon__precision chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="weapon_precision" for="weapon_precision">Accuracy</label>
                                        <input class="chimera-input__field" data-i18n-title="weapon_precision_title" title="Accuracy" id="weapon_precision" min="0" name="attr_weapon_precision" type="number"/>
                                  </div>
                                  <div class="chimera-input weapon__type chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="weapon_type" for="weapon_type">Damage Type</label>
                                        <select class="chimera-input__field" data-i18n-title="weapon_type_title" title="Damage Type" id="weapon_type" name="attr_weapon_type">
                                          <option data-i18n="physical" value="physical" selected="selected">Physical</option>
                                          <option data-i18n="air" value="air">Air</option>
                                          <option data-i18n="bolt" value="bolt">Bolt</option>
                                          <option data-i18n="dark" value="dark">Dark</option>
                                          <option data-i18n="earth" value="earth">Earth</option>
                                          <option data-i18n="fire" value="fire">Fire</option>
                                          <option data-i18n="ice" value="ice">Ice</option>
                                          <option data-i18n="light" value="light">Light</option>
                                          <option data-i18n="poison" value="poison">Poison</option>
                                        </select>
                                  </div>
                                  <div class="chimera-input weapon__hands chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="weapon_hands" for="weapon_hands">Hands</label>
                                        <input class="chimera-input__field" data-i18n-title="weapon_hands_title" title="Hands" id="weapon_hands" max="2" min="1" name="attr_weapon_hands" type="number"/>
                                  </div>
                                  <div class="chimera-input weapon__damage chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="weapon_damage" for="weapon_damage">Damage</label>
                                        <input class="chimera-input__field" data-i18n-title="weapon_damage_title" title="Damage" id="weapon_damage" min="0" name="attr_weapon_damage" type="number"/>
                                  </div>
                                  <div class="chimera-input weapon__cost chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="weapon_cost" for="weapon_cost">Cost</label>
                                        <input class="chimera-input__field" data-i18n-title="weapon_cost_title" title="Cost" id="weapon_cost" min="0" step="50" name="attr_weapon_cost" type="number"/>
                                  </div>
                                  <div class="chimera-input weapon__attack_name">
                                    <label class="chimera-input__label" data-i18n="weapon_attack_name" for="weapon_attack_name">Attack Name</label>
                                        <input class="chimera-input__field" data-i18n-title="weapon_attack_name_title" title="Attack Name" id="weapon_attack_name" name="attr_weapon_attack_name" type="text"/>
                                  </div>
                                  <div class="chimera-input weapon__attack_precision chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="weapon_attack_precision" for="weapon_attack_precision">Attack Accuracy</label>
                                        <input class="chimera-input__field" data-i18n-title="weapon_attack_precision_title" title="Attack Accuracy" id="weapon_attack_precision" min="0" name="attr_weapon_attack_precision" type="number"/>
                                  </div>
                                  <div class="chimera-input weapon__attack_damage chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="weapon_attack_damage" for="weapon_attack_damage">Attack Damage</label>
                                        <input class="chimera-input__field" data-i18n-title="weapon_attack_damage_title" title="Attack Damage" id="weapon_attack_damage" min="0" name="attr_weapon_attack_damage" type="number"/>
                                  </div>
                                      <label class="chimera-checkbox weapon__extra_damage chimera-checkbox--column">
                                        <div class="chimera-checkbox__field">
                                          <input id="weapon_extra_damage" name="attr_weapon_extra_damage" type="checkbox"/><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" data-i18n-title="checkbox_title" title="Checkbox"/>
                                        </div><span class="chimera-checkbox__label" data-i18n="weapon_extra_damage" for="weapon_extra_damage">Extra Damage</span>
                                      </label>
                                  <div class="chimera-input weapon__special">
                                    <label class="chimera-input__label" data-i18n="weapon_special" for="weapon_special">Special</label>
                                        <textarea class="chimera-input__field" data-i18n-title="weapon_special_title" title="Special" id="weapon_special" name="attr_weapon_special" type="textarea"></textarea>
                                  </div>
                            </div>
                          </div>
                          <div class="chimera-repeater--delete weapons--delete">
                            <div class="weapon"><span name="attr_weapon_name"></span><span>âœ¦</span>
                              <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_check_1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_weapon_check_2"></span>
                                <input name="attr_weapon_precision" type="hidden"/><span class="fabula-check__precision">+</span><span class="fabula-check__precision" name="attr_weapon_precision"></span>
                              </div>
                            </div>
                          </div>
                          <div class="chimera-repeater--view weapons--view">
                          </div>
                        </div>
                      </fieldset>
                    </div>
              </div>
              <div class="spells">
                <h2 class="spells--heading" data-i18n="spells">Spells</h2>
                    <div class="chimera-repeater">
                      <input class="chimera-repeater--is-empty" name="attr_spells_empty" type="hidden" value="0"/>
                      <div class="chimera-repeater__empty">
                        <h2 class="chimera-repeater__empty-header" data-i18n="none_spells_repeating">No spells saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                      </div>
                      <fieldset class="repeating_spells">
                        <div class="chimera-repeater__content">
                          <div class="chimera-repeater--edit spells--edit">
                            <div class="spell">
                                  <div class="chimera-input spell__name">
                                    <label class="chimera-input__label" data-i18n="spell_name" for="spell_name">Spell Name</label>
                                        <input class="chimera-input__field" data-i18n-title="spell_name_title" title="Spell Name" id="spell_name" name="attr_spell_name" type="text"/>
                                  </div>
                                      <label class="chimera-checkbox spell__offensive chimera-checkbox--column">
                                        <div class="chimera-checkbox__field">
                                          <input id="spell_offensive" name="attr_spell_offensive" type="checkbox"/><img src="https://raw.githubusercontent.com/morgdalaine/fabula-ultima/main/assets/checkbox.svg" data-i18n-title="checkbox_title" title="Checkbox"/>
                                        </div><span class="chimera-checkbox__label" data-i18n="spell_offensive" for="spell_offensive">Is Offensive</span>
                                      </label>
                                  <div class="chimera-input spell__check_1 chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="spell_check_1" for="spell_check_1">Attr 1</label>
                                        <select class="chimera-input__field" data-i18n-title="spell_check_1_title" title="Attr 1" id="spell_check_1" name="attr_spell_check_1">
                                          <option data-i18n="dexterity" value="dexterity" selected="selected">DEX</option>
                                          <option data-i18n="insight" value="insight">INS</option>
                                          <option data-i18n="might" value="might">MIG</option>
                                          <option data-i18n="willpower" value="willpower">WLP</option>
                                        </select>
                                  </div>
                                  <div class="chimera-input spell__check_2 chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="spell_check_2" for="spell_check_2">Attr 2</label>
                                        <select class="chimera-input__field" data-i18n-title="spell_check_2_title" title="Attr 2" id="spell_check_2" name="attr_spell_check_2">
                                          <option data-i18n="dexterity" value="dexterity" selected="selected">DEX</option>
                                          <option data-i18n="insight" value="insight">INS</option>
                                          <option data-i18n="might" value="might">MIG</option>
                                          <option data-i18n="willpower" value="willpower">WLP</option>
                                        </select>
                                  </div>
                                  <div class="chimera-input spell__target">
                                    <label class="chimera-input__label" data-i18n="spell_target" for="spell_target">Target</label>
                                        <input class="chimera-input__field" data-i18n-title="spell_target_title" title="Target" id="spell_target" name="attr_spell_target" type="text"/>
                                  </div>
                                  <div class="chimera-input spell__duration">
                                    <label class="chimera-input__label" data-i18n="spell_duration" for="spell_duration">Duration</label>
                                        <input class="chimera-input__field" data-i18n-title="spell_duration_title" title="Duration" id="spell_duration" name="attr_spell_duration" type="text"/>
                                  </div>
                                  <div class="chimera-input spell__mp chimera-input--center chimera-input--small">
                                    <label class="chimera-input__label" data-i18n="spell_mp" for="spell_mp">MP</label>
                                        <input class="chimera-input__field" data-i18n-title="spell_mp_title" title="MP" id="spell_mp" name="attr_spell_mp" type="text"/>
                                  </div>
                                  <div class="chimera-input spell__precision chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="spell_precision" for="spell_precision">Accuracy</label>
                                        <input class="chimera-input__field" data-i18n-title="spell_precision_title" title="Accuracy" id="spell_precision" min="0" name="attr_spell_precision" type="number"/>
                                  </div>
                                  <div class="chimera-input spell__damage chimera-input--small chimera-input--center">
                                    <label class="chimera-input__label" data-i18n="spell_damage" for="spell_damage">Damage</label>
                                        <input class="chimera-input__field" data-i18n-title="spell_damage_title" title="Damage" id="spell_damage" min="0" name="attr_spell_damage" type="number"/>
                                  </div>
                                  <div class="chimera-input spell__effect">
                                    <label class="chimera-input__label" data-i18n="spell_effect" for="spell_effect">Effect</label>
                                        <textarea class="chimera-input__field" data-i18n-title="spell_effect_title" title="Effect" id="spell_effect" name="attr_spell_effect" type="textarea"></textarea>
                                  </div>
                            </div>
                          </div>
                          <div class="chimera-repeater--delete spells--delete">
                            <div class="spell"><span name="attr_spell_name"></span><span>âœ¦</span>
                              <div class="fabula-check"><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_check_1"></span><span>+</span><span data-i18n-dynamic="data-i18n-dynamic" name="attr_spell_check_2"></span>
                              </div>
                            </div>
                          </div>
                          <div class="chimera-repeater--view spells--view">
                          </div>
                        </div>
                      </fieldset>
                    </div>
              </div>
              <div class="notes">
                <h2 class="notes--heading" data-i18n="notes">Notes</h2>
                    <div class="chimera-repeater">
                      <input class="chimera-repeater--is-empty" name="attr_notes_empty" type="hidden" value="0"/>
                      <div class="chimera-repeater__empty">
                        <h2 class="chimera-repeater__empty-header" data-i18n="none_notes_repeating">No notes saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                      </div>
                      <fieldset class="repeating_notes">
                        <div class="chimera-repeater__content">
                          <div class="chimera-repeater--edit notes--edit">
                            <div class="note">
                                  <div class="chimera-input note__name">
                                    <label class="chimera-input__label" data-i18n="note_name" for="note_name">Note</label>
                                        <input class="chimera-input__field" data-i18n-title="note_name_title" title="Note" id="note_name" name="attr_note_name" type="text"/>
                                  </div>
                                  <div class="chimera-input note__effect">
                                    <label class="chimera-input__label" data-i18n="note_effect" for="note_effect">Effect</label>
                                        <textarea class="chimera-input__field" data-i18n-title="note_effect_title" title="Effect" id="note_effect" name="attr_note_effect" type="textarea"></textarea>
                                  </div>
                            </div>
                          </div>
                          <div class="chimera-repeater--delete notes--delete">
                            <div class="note"><span name="attr_note_name"></span>
                            </div>
                          </div>
                          <div class="chimera-repeater--view notes--view">
                          </div>
                        </div>
                      </fieldset>
                    </div>
              </div>
              <div class="specials">
                <h2 class="specials--heading" data-i18n="special_rules">Special Rules</h2>
                    <div class="chimera-repeater">
                      <input class="chimera-repeater--is-empty" name="attr_specials_empty" type="hidden" value="0"/>
                      <div class="chimera-repeater__empty">
                        <h2 class="chimera-repeater__empty-header" data-i18n="none_specials_repeating">No specials saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                      </div>
                      <fieldset class="repeating_specials">
                        <div class="chimera-repeater__content">
                          <div class="chimera-repeater--edit specials--edit">
                            <div class="special">
                                  <div class="chimera-input special__name">
                                    <label class="chimera-input__label" data-i18n="special_name" for="special_name">Special</label>
                                        <input class="chimera-input__field" data-i18n-title="special_name_title" title="Special" id="special_name" name="attr_special_name" type="text"/>
                                  </div>
                                  <div class="chimera-input special__effect">
                                    <label class="chimera-input__label" data-i18n="special_effect" for="special_effect">Effect</label>
                                        <textarea class="chimera-input__field" data-i18n-title="special_effect_title" title="Effect" id="special_effect" name="attr_special_effect" type="textarea"></textarea>
                                  </div>
                            </div>
                          </div>
                          <div class="chimera-repeater--delete specials--delete">
                            <div class="special"><span name="attr_special_name"></span>
                            </div>
                          </div>
                          <div class="chimera-repeater--view specials--view">
                          </div>
                        </div>
                      </fieldset>
                    </div>
              </div>
              <div class="actions">
                <h2 class="actions--heading" data-i18n="other_actions">Other Actions</h2>
                    <div class="chimera-repeater">
                      <input class="chimera-repeater--is-empty" name="attr_actions_empty" type="hidden" value="0"/>
                      <div class="chimera-repeater__empty">
                        <h2 class="chimera-repeater__empty-header" data-i18n="none_actions_repeating">No actions saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                      </div>
                      <fieldset class="repeating_actions">
                        <div class="chimera-repeater__content">
                          <div class="chimera-repeater--edit actions--edit">
                            <div class="action">
                                  <div class="chimera-input action__name">
                                    <label class="chimera-input__label" data-i18n="action_name" for="action_name">Action</label>
                                        <input class="chimera-input__field" data-i18n-title="action_name_title" title="Action" id="action_name" name="attr_action_name" type="text"/>
                                  </div>
                                  <div class="chimera-input action__effect">
                                    <label class="chimera-input__label" data-i18n="action_effect" for="action_effect">Effect</label>
                                        <textarea class="chimera-input__field" data-i18n-title="action_effect_title" title="Effect" id="action_effect" name="attr_action_effect" type="textarea"></textarea>
                                  </div>
                            </div>
                          </div>
                          <div class="chimera-repeater--delete actions--delete">
                            <div class="action"><span name="attr_action_name"></span>
                            </div>
                          </div>
                          <div class="chimera-repeater--view actions--view">
                          </div>
                        </div>
                      </fieldset>
                    </div>
              </div>
              <div class="raregear">
                <h2 class="raregear--heading" data-i18n="rare-gear">Rare Equipment</h2>
                    <div class="chimera-repeater">
                      <input class="chimera-repeater--is-empty" name="attr_rare-gear_empty" type="hidden" value="0"/>
                      <div class="chimera-repeater__empty">
                        <h2 class="chimera-repeater__empty-header" data-i18n="none_rare-gear_repeating">No rare gear saved.</h2><span class="chimera-repeater__empty-subtitle" data-i18n="click_add_to_add">Click +Add to load data.</span>
                      </div>
                      <fieldset class="repeating_rare-gear">
                        <div class="chimera-repeater__content">
                          <div class="chimera-repeater--edit rare-gear--edit">
                            <div class="gear">
                                  <div class="chimera-input gear__name">
                                    <label class="chimera-input__label" data-i18n="gear_name" for="gear_name">Gear</label>
                                        <input class="chimera-input__field" data-i18n-title="gear_name_title" title="Gear" id="gear_name" name="attr_gear_name" type="text"/>
                                  </div>
                                  <div class="chimera-input gear__effect">
                                    <label class="chimera-input__label" data-i18n="gear_effect" for="gear_effect">Effect</label>
                                        <textarea class="chimera-input__field" data-i18n-title="gear_effect_title" title="Effect" id="gear_effect" name="attr_gear_effect" type="textarea"></textarea>
                                  </div>
                            </div>
                          </div>
                          <div class="chimera-repeater--delete rare-gear--delete">
                            <div class="gear"><span name="attr_gear_name"></span>
                            </div>
                          </div>
                          <div class="chimera-repeater--view rare-gear--view">
                          </div>
                        </div>
                      </fieldset>
                    </div>
              </div>
        </header>
      </main>
      <main class="gm"><span>[GM]</span></main>
      <footer></footer>
    </div>
    <script type="text/worker">
      const G_REPEATING = [
  'bonds',
  'attacks',
  'weapons',
  'spells',
  'notes',
  'specials',
  'actions',
  'rare-gear',
];
      const calculateQuickDefenses = (value) => {
  if (!value) {
    return;
  }

  const [def, mdef] = value.split('/');
  setAttrs(
    {
      defense_extra: def,
      magic_defense_extra: mdef,
    },
    { silent: true }
  );
};

on('ready', () => {
  findObjs({ type: 'attribute' }).forEach((attr) => {
    log(JSON.stringify(attr));
  });
});
      G_REPEATING.forEach((fieldset) => {
  on(`sheet:opened change:repeating_${fieldset} remove:repeating_${fieldset}`, (eventInfo) =>
    RepeatingModule.isFieldsetEmpty(fieldset)
  );
});

on('change:defense_quick', (eventInfo) => {
  calculateQuickDefenses(eventInfo.newValue);
});

// on('change:defense_extra change:defense_extra', (eventInfo) => {
//   spreadQuickDefenses(eventInfo.newValue);
// });
      /**
 * RepeatingSections standardizes code for handling and manipulating repeating sections
 * @class RepeatingSections
 */
class RepeatingModule {
  /**
   * Checks if a repcontain (e.g. repeating_weapons) is empty.
   * This is calculated by looking at the length of IDs in fieldset.
   * @param {string} section name of a repeating fieldset (repcontainer)
   * @param {string} suffix attribute name as section_suffix (e.g. weapons_count)
   **/
  static isFieldsetEmpty(section, suffix = 'empty') {
    getSectionIDs(section, (id) => {
      setAttrs({ [`${section}_${suffix}`]: id.length });
    });
  }

  static #getRepID(sourceAttribute) {
    sourceAttribute.split('_').at(2);
  }

  /**
   * Move rows from source fieldset to target and remove source rows
   * @param {string} source name of repeating section to transfer from
   * @param {string} target name of repeating section to transfer to
   * @param {string[]} fields to be migrated from source
   * @param {object[]} sectionDetails
   * @param {string[]} getArray
   * @param {callback} callback function to add new fields to target fieldset
   * @param {boolean} [removeSource] delete originating row, defaults to true
   */
  static migrateRepeatingSection(
    source,
    target,
    fields,
    sectionDetails,
    getArray = [],
    callback,
    removeSource = true,
  ) {
    this.getAllAttrs(sectionDetails, getArray, (attributes, sections) => {
      let updates = {};

      const uniqueRowIds = [...sections[target]];
      sections[source].forEach((sourceId) => {
        let targetId = generateRowID();
        while (targetId in uniqueRowIds) {
          targetId = generateRowID();
        }

        fields.forEach((field) => {
          const oldAttr = `${source}_${sourceId}_${field}`;
          const value = attributes[oldAttr] || '';
          const newAttr = `${target}_${targetId}_${field}`;

          updates[newAttr] = value;
        });

        if (callback) {
          const additionalFields = callback(sourceId, targetId, updates);
          updates = { ...updates, additionalFields };
        }

        uniqueRowIds.push(targetId);

        if (removeSource) removeRepeatingRow(`${source}_${sourceId}`);
      });

      setAttrs(updates);
    });
  }
  /**
   * Combines [getAttrs()](https://wiki.roll20.net/Sheet_Worker_Scripts#getAttrs.28attributeNameArray.2C_callback.29)
   * and [getSectionIDs](https://wiki.roll20.net/Sheet_Worker_Scripts#getSectionIDs.28section_name.2Ccallback.29)
   * @param {Object} sectionDetails repeating section request
   *  @example
   *    // example of sectionDetails object
   *    const G_DEFAULT_REPEATING = [
   *      { section: "repeating_inventory", fields: ["weight", "name", "quantity"] },
   *      { section: "repeating_attack", fields: ["bonus", "damage", "name"] },
   *    ];
   * @param {string[]} getArray optional global attribute request
   * @param {callback} callback
   * @returns {(Object|Object)}
   */
  static getAllAttrs(sectionDetails, getArray = [], callback) {
    const args = new Array(arguments.length);
    for (var i = 0; i < args.length; ++i) args[i] = arguments[i];

    sectionDetails = structuredClone(args.shift());
    callback = args.pop();
    if (typeof callback !== 'function') return;

    if (args.length > 0) getArray = structuredClone(args.shift());
    else getArray = [];

    this.#getSections(getArray, sectionDetails, (getArr, sections) => {
      getAttrs(getArr, (attributes) => {
        // order the sections
        this.#orderSections(attributes, sections);

        // call the callback function to finally do what we wanted to do.
        callback(attributes, sections);
      });
    });
  }
  /**
   * Gets the rowIDs for all the sections passed to it,
   * and assembles an array of repeating attributes to get.
   * Does this via a work queue or burndown set up.
   * Arguments are the same as for getAllAttrs with the addition of sections.
   * @param {*} getArray
   * @param {*} sectionDetails
   * @param {callback} callback
   * @param {*} sections accumulates the idArrays for each section
   */
  static #getSections(getArray = [], sectionDetails = [], callback, sections = {}) {
    // grab the first section to work;
    let section = sectionDetails.shift();
    getSectionIDs(section.section, (idArray) => {
      // store the idArray for use later on if needed.
      sections[section.section] = [...idArray];

      // add the sections reporder to the getArray so that we can order the idArray later.
      getArray.push(`_reporder_${section.section}`);
      // iterate through the ids
      idArray.forEach((id) => {
        // Iterate through each of the fields for the repeating section
        section.fields.forEach((field) => {
          // add the repeating attribute for this id to the getArray
          getArray.push(`${section.section}_${id}_${field}`);
        });
      });
      if (sectionDetails[0]) {
        // If there's another section to work through, go through the burndown again
        this.#getSections(getArray, sectionDetails, callback, sections);
      } else {
        // If no sections are left, call the callback
        callback(getArray, sections);
      }
    });
  }
  /**
   * Splits a comma delimited string into an array
   * @param {string} string
   * @returns {Array}
   */
  static #commaArray(string = '') {
    return string.toLowerCase().split(/\s*,\s*/);
  }
  /**
   * Orders a single ID array.
   * @param {*} repOrder
   * @param {Array} rowIds
   */
  static #orderSection(repOrder, rowIds = []) {
    rowIds.sort((a, b) => {
      return repOrder.indexOf(a.toLowerCase()) - repOrder.indexOf(b.toLowerCase());
    });
  }
  /**
   * Orders the section id arrays to match the repOrder attribute
   * @param {Object} attributes
   * @param {Array} sections
   */
  static #orderSections(attributes, sections) {
    Object.keys(sections).forEach((section) => {
      attributes[`_reporder_${section}`] = this.#commaArray(attributes[`_reporder_${section}`]);
      this.#orderSection(attributes[`_reporder_${section}`], sections[section]);
    });
  }
}

    </script>
  </body>
</html>